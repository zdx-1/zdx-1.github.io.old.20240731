<!DOCTYPE html><html lang="zh-CN" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>2023年蓝桥杯省赛B组试题 | Zdx-1</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" as="font" crossorigin="anonymous" href="/font/Bender.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/BenderLight.ttf"><link rel="preload" as="font" crossorigin="anonymous" href="/font/JetBrainsMono-Regular.woff2"><link rel="stylesheet" href="/css/arknights.css"><style>@font-face {
  font-family: Bender;
  src: local('Bender'), url("/font/Bender.ttf"), url("/font/Bender.otf");
}
@font-face {
  font-family: BenderLight;
  src: local('BenderLight'), url("/font/BenderLight.ttf");
}
@font-face {
  font-family: 'JetBrains Mono';
  src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
</style><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy"}}</script><link type="text/css" rel="stylesheet" href="/lib/encrypt/hbe.style.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/css/all.min.css"><script>if (window.localStorage.getItem('theme-mode') === 'light')
 document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark')
 document.documentElement.setAttribute('theme-mode', 'dark')</script><style>:root {
 --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
 --light-background: url('/img/bk.jpg');
 --theme-encrypt-confirm: 'confirm'
}</style><script defer src="/js/arknights.js"></script><script defer src="/js/search.js"></script><script defer type="module">import mermaid from '//unpkg.com/mermaid@10.5.0/dist/mermaid.esm.mjs';
window.mermaid = mermaid;
code.paintMermaid();
</script><script async src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script async src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script async src="/lib/encrypt/hbe.js"></script><script async src="/js/pjax.js"></script><script class="pjax-js">reset= () => {document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js','data-pjax','.busuanzi'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="Zdx-1" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0;"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><div class="navBtn"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><nav><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup" tabindex="0"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>2023年蓝桥杯省赛B组试题</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2024-04-01T09:00:13.000Z" id="date"> 2024-04-01</time></div></span><br><span>Last Update: <div class="control"><time datetime="2024-04-01T10:41:14.000Z" id="updated"> 2024-04-01</time></div></span></div></div><hr><div id="post-content"><h2 id="题目总览"><a href="#题目总览" class="headerlink" title="题目总览"></a>题目总览</h2><ul>
<li>2023</li>
<li>硬币兑换</li>
<li>松散子序列</li>
<li>管道</li>
<li>保险箱</li>
<li>树上选点</li>
<li>T字消除</li>
<li>独一无二</li>
<li>异或和</li>
<li>混论的数组</li>
</ul>
<h2 id="2023-蓝桥云课-lanqiao-cn"><a href="#2023-蓝桥云课-lanqiao-cn" class="headerlink" title="2023 - 蓝桥云课 (lanqiao.cn)"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3496/learning/?page=1&first_category_id=1&tags=2023">2023 - 蓝桥云课 (lanqiao.cn)</a></h2><h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>请求出在 $12345678$ （含）至 $98765432$ （含）中，有多少个数中完全不包含 $2023$。</p>
<p>完全不包含 $2023$ 是指无论将这个数的哪些数位移除都不能得到 $2023$。例如 $20322175$，$33220022$ 都完全不包含 $2023$，而 $20230415$，$20193213$ 则含有 $2023$（后者取第 $1,2,6,8$ 个数位）。</p>
<h3 id="答案提交"><a href="#答案提交" class="headerlink" title="答案提交"></a>答案提交</h3><p>这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
<h3 id="运行限制"><a href="#运行限制" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>1s</td>
<td>256M</td>
</tr>
<tr>
<td>C</td>
<td>1s</td>
<td>256M</td>
</tr>
<tr>
<td>Java</td>
<td>2s</td>
<td>256M</td>
</tr>
<tr>
<td>Python3</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>Go</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>3s</td>
<td>256M</td>
</tr>
</tbody></table>
<p>总通过次数: 2971  |  总提交次数: 4174  |  通过率: 71.2%</p>
<p>难度: 中等   标签: 2023, 模拟, 枚举, 省赛</p>
<h3 id="参考答案"><a href="#参考答案" class="headerlink" title="参考答案"></a>参考答案</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ck</span>(<span class="hljs-params">u</span>):<br>    a=[]<br>    <span class="hljs-keyword">while</span> u:<br>        a.append(u%<span class="hljs-number">10</span>)<br>        u//=<span class="hljs-number">10</span><br>    a.reverse()<br>    n=<span class="hljs-built_in">len</span>(a)<br>    cnt1,cnt2,cnt3=<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        <span class="hljs-keyword">if</span> a[i]==<span class="hljs-number">2</span>:<br>            cnt1+=<span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> a[i]==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> cnt1&gt;<span class="hljs-number">0</span>:<br>            cnt2+=<span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> a[i]==<span class="hljs-number">2</span> <span class="hljs-keyword">and</span> cnt2&gt;<span class="hljs-number">0</span>:<br>            cnt3+=<span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> a[i]==<span class="hljs-number">3</span> <span class="hljs-keyword">and</span> cnt3&gt;<span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>ans=<span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">12345678</span>,<span class="hljs-number">98765432</span>+<span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">if</span> ck(i):<br>        ans+=<span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>((<span class="hljs-number">98765432</span>-<span class="hljs-number">12345678</span>+<span class="hljs-number">1</span>)-ans)<br></code></pre></td></tr></table></figure>

<h2 id="硬币兑换-蓝桥云课"><a href="#硬币兑换-蓝桥云课" class="headerlink" title="硬币兑换 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3501/learning/?page=2&first_category_id=1&tags=2023">硬币兑换 - 蓝桥云课</a></h2><h3 id="问题描述-1"><a href="#问题描述-1" class="headerlink" title="问题描述"></a>问题描述</h3><p>小蓝手中有 $2023$ 种不同面值的硬币，这些硬币全部是新版硬币，其中第 $i(1 \leq i \leq 2023)$ 种硬币的面值为 $i$，数量也为 $i$ 个。硬币兑换机可以进行硬币兑换，兑换规则为：交给硬币兑换机两个新版硬币 $coin_1$ 和 $coin_2$，硬币兑换机会兑换成一个面值为 $coin_1 + coin_2$ 的旧版硬币。</p>
<p>小蓝可以用自己已有的硬币进行任意次数兑换，假设最终小蓝手中有 $K$ 种不同面值的硬币（只看面值，不看新旧）并且第 $i(1 \leq i \leq K)$ 种硬币的个数为 $sum_i$。小蓝想要使得 $\max{sum_1,sum_2,\dots,sum_K}$ 的值达到最大，请你帮他计算这个值最大是多少。</p>
<p>注意硬币兑换机只接受新版硬币进行兑换，并且兑换出的硬币全部是旧版硬币。</p>
<h3 id="答案提交-1"><a href="#答案提交-1" class="headerlink" title="答案提交"></a>答案提交</h3><p>这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
<h3 id="运行限制-1"><a href="#运行限制-1" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>1s</td>
<td>256M</td>
</tr>
<tr>
<td>C</td>
<td>1s</td>
<td>256M</td>
</tr>
<tr>
<td>Java</td>
<td>2s</td>
<td>256M</td>
</tr>
<tr>
<td>Python3</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>Go</td>
<td>3s</td>
<td>256M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>3s</td>
<td>256M</td>
</tr>
</tbody></table>
<h3 id="参考答案-1"><a href="#参考答案-1" class="headerlink" title="参考答案"></a>参考答案</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">a=[<span class="hljs-number">0</span>]*<span class="hljs-number">100000</span><br>ans=<span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2024</span>):<br>    a[i]=i<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4501</span>):<br>    res=<span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,i//<span class="hljs-number">2</span>+<span class="hljs-number">1</span>):<br>        k=i-j<br>        <span class="hljs-keyword">if</span> j!=k:<br>            res+=<span class="hljs-built_in">min</span>(a[j],a[k])<br>        <span class="hljs-keyword">else</span>:<br>            res+=a[j]//<span class="hljs-number">2</span><br>    res+=a[i]<br>    ans=<span class="hljs-built_in">max</span>(res,ans)<br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure>

<h2 id="松散子序列-蓝桥云课"><a href="#松散子序列-蓝桥云课" class="headerlink" title="松散子序列 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3543/learning/?page=1&first_category_id=1&tags=2023&name=%E6%9D%BE%E6%95%A3%E5%AD%90%E5%BA%8F%E5%88%97">松散子序列 - 蓝桥云课</a></h2><h3 id="问题描述-2"><a href="#问题描述-2" class="headerlink" title="问题描述"></a>问题描述</h3><p>给定一个仅含小写字母的字符串 $s$，假设 $s$ 的一个子序列 $t$ 的第 $i$ 个字符对应了原字符串中的第 $p_i$ 个字符。我们定义 $s$ 的一个松散子序列为：对于 $i &gt; 1$ 总是有 $p_i - p_{i-1} \geq 2$。设一个子序列的价值为其包含的每个字符的价值之和 ($a \sim z$ 分别为 $1 \sim 26$)。</p>
<p>求 $s$ 的松散子序列中的最大价值。</p>
<h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入一行包含一个字符串 $s$。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出一行包含一个整数表示答案。</p>
<h3 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">azaazaz<br></code></pre></td></tr></table></figure>

<h3 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">78<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定"><a href="#评测用例规模与约定" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $20$% 的评测用例，$|s| \leq 10$；</p>
<p>对于 $40$% 的评测用例，$|s| \leq 300$；</p>
<p>对于 $70$% 的评测用例，$|s| \leq 5000$；</p>
<p>对于所有评测用例，$1 \leq |s| \leq 10^6$，字符串中仅包含小写字母。</p>
<h3 id="运行限制-2"><a href="#运行限制-2" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>12s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 1367  |  总提交次数: 1668  |  通过率: 82%</p>
<p>难度: 困难   标签: 2023, 省赛, 动态规划</p>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>根据题目要求，我们需要求出字符串 $s$ 的松散子序列中的最大价值。因此，我们可以使用动态规划的思想来解决这个问题。</p>
<h4 id="定义状态"><a href="#定义状态" class="headerlink" title="定义状态"></a>定义状态</h4><p>我们可以使用 $f[i][0]$ 表示不选字符串 $s$ 的第 $i$ 个字符时的价值，$f[i][1]$ 表示选字符串 $s$ 的第 $i$ 个字符时的价值。</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><p>因为要求价值最大，所以我们需要取最大值。</p>
<h4 id="状态计算"><a href="#状态计算" class="headerlink" title="状态计算"></a>状态计算</h4><p>因为有 $p_i-p_{i-1}\ge2$ 的限制，所以 $f[i][1]&#x3D;max(f[i-2][1], f[i-2][0])+val$，只能从隔了 $1$ 个的开始选。</p>
<p>$f[i][0]&#x3D;max(f[i-1][1], f[i-1][0])$，因为第 $i$ 个字符没有选，那么我们就用前一个来更新。</p>
<p>最终的答案即为 $max(f[n-1][1], f[n-1][0])$。</p>
<h4 id="时间复杂度分析"><a href="#时间复杂度分析" class="headerlink" title="时间复杂度分析"></a>时间复杂度分析</h4><p>该题的时间复杂度为 $O(n)$。</p>
<h3 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N=<span class="hljs-number">1e6</span>+<span class="hljs-number">5</span>;<br><span class="hljs-type">int</span> f[N][<span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    string s;<br>    cin &gt;&gt; s;<br>    <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">length</span>();<br><br>    unordered_map&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt; values;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) &#123;<br>        values[<span class="hljs-string">&#x27;a&#x27;</span> + i] = i + <span class="hljs-number">1</span>;<br>    &#125;<br><br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = values[s[<span class="hljs-number">0</span>]];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;<br>        f[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">2</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">2</span>][<span class="hljs-number">0</span>]) + values[s[i]];<br>        f[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]);<br>    &#125;<br><br>    cout &lt;&lt; <span class="hljs-built_in">max</span>(f[n - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[n - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]) &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> N=(<span class="hljs-type">int</span>)<span class="hljs-number">1e6</span>+<span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[][] f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N + <span class="hljs-number">1</span>][<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> scanner.next();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> s.length();<br><br>        Map&lt;Character, Integer&gt; values = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) &#123;<br>            values.put((<span class="hljs-type">char</span>) (<span class="hljs-string">&#x27;a&#x27;</span> + i), i + <span class="hljs-number">1</span>);<br>        &#125;<br><br>        <br>        f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = values.get(s.charAt(<span class="hljs-number">0</span>));<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; n; i++) &#123;<br>          <span class="hljs-keyword">if</span>(i==<span class="hljs-number">1</span>)  f[i][<span class="hljs-number">1</span>] = values.get(s.charAt(i));<br>          <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">2</span>)  f[i][<span class="hljs-number">1</span>] = Math.max(f[i - <span class="hljs-number">2</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">2</span>][<span class="hljs-number">0</span>]) + values.get(s.charAt(i));<br>            f[i][<span class="hljs-number">0</span>] = Math.max(f[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]);<br>        &#125;<br><br>        System.out.println(Math.max(f[n - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[n - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>]));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">s = <span class="hljs-built_in">input</span>()<br>n = <span class="hljs-built_in">len</span>(s)<br>f = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>)] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n+<span class="hljs-number">1</span>)] <br>values = &#123;<span class="hljs-built_in">chr</span>(i): <span class="hljs-built_in">ord</span>(<span class="hljs-built_in">chr</span>(i)) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>) + <span class="hljs-number">1</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">97</span>, <span class="hljs-number">97</span>+<span class="hljs-number">26</span>, <span class="hljs-number">1</span>)&#125;<br><br>f[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span><br>f[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = values[s[<span class="hljs-number">0</span>]]<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-number">1</span>):<br>    f[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[i-<span class="hljs-number">2</span>][<span class="hljs-number">1</span>], f[i-<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]) + values[s[i]]<br>    f[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[i-<span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[i-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>])<br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">max</span>(f-<span class="hljs-number">1</span>][<span class="hljs-number">1</span>], f[n-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]))<br></code></pre></td></tr></table></figure>

<h2 id="管道-蓝桥云课"><a href="#管道-蓝桥云课" class="headerlink" title="管道 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3544/learning/?page=1&first_category_id=1&tags=2023&name=%E7%AE%A1%E9%81%93">管道 - 蓝桥云课</a></h2><h3 id="问题描述-3"><a href="#问题描述-3" class="headerlink" title="问题描述"></a>问题描述</h3><p>有一根长度为 $\text{len}$ 的横向的管道，该管道按照单位长度分为 $\text{len}$ 段，每一段的中央有一个可开关的阀门和一个检测水流的传感器。</p>
<p>一开始管道是空的，位于 $L_i$ 的阀门会在 $S_i$ 时刻打开，并不断让水流入管道。</p>
<p>对于位于 $L_i$ 的阀门，它流入的水在 $T_i$ ($T_i \geq S_i$) 时刻会使得从第 $L_i - (T_i - S_i)$ 段到第 $L_i + (T_i - S_i)$ 段的传感器检测到水流。</p>
<p>求管道中每一段中间的传感器都检测到有水流的最早时间。</p>
<h3 id="输入格式-1"><a href="#输入格式-1" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入的第一行包含两个整数 $n,\text{len}$，用一个空格分隔，分别表示会打开的阀门数和管道长度。</p>
<p>接下来 $n$ 行每行包含两个整数 $L_i,S_i$，用一个空格分隔，表示位于第 $L_i$ 段管道中央的阀门会在 $S_i$ 时刻打开。</p>
<h3 id="输出格式-1"><a href="#输出格式-1" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出一行包含一个整数表示答案。</p>
<h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">3 10 1 1 6 5 10 2<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">5<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-1"><a href="#评测用例规模与约定-1" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $30$% 的评测用例，$n \leq 200$，$S_i, \text{len} \leq 3000$；</p>
<p>对于 $70$% 的评测用例，$n \leq 5000$，$S_i, \text{len} \leq 10^5$；</p>
<p>对于所有评测用例，$1 \leq n \leq 10^5$，$1 \leq S_i,\text{len} \leq 10^9$，$1 \leq L_i \leq \text{len}$，$L_{i-1} &lt; L_i$。</p>
<h3 id="运行限制-3"><a href="#运行限制-3" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>12s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 1124  |  总提交次数: 1560  |  通过率: 72.1%</p>
<p>难度: 简单   标签: 2023, 贪心, 省赛, 二分</p>
<h3 id="解题思路-1"><a href="#解题思路-1" class="headerlink" title="解题思路"></a>解题思路</h3><p>对于一个时间点 $x$，如果此时所有传感器都能检测到水流，那么当时间点大于 $x$ 时也一定保证所有传感器都能检测到水流。题目要求我们找到满足条件的最小时间点，因为答案具有二段性，所以我们可以想到二分答案。</p>
<p>有了二分的思路后，问题转换为对于一个确定的时间点 $x$，我们如何判断此时所有传感器都能检测到水流？仔细思考，当时间确定后，对于一个位于 $a_i$ 且开启时间为 $S_i(S_i \leq x)$ 的阀门，它的水流实际就是一条覆盖区间 $[a_i-(x-S_i),a_i+(x-S_i)]$ 的线段。</p>
<p>我们可以将所有 $S_i \leq x$ 的阀门都进行转换，实际上得到的就是若干条线段。判断所有传感器是否都能检测到水流，等价于判断能否用这若干条线段覆盖区间 $[1,\text{len}]$，问题接着转换为区间覆盖问题。</p>
<p>区间覆盖是一个经典问题。我们可以按区间的左端点来排序这些区间。接下来，我们检查这些区间是否覆盖了整个管道。如果第一个区间的左端点大于 $1$，那么表示管道的开始部分没有被覆盖，直接返回 <code>false</code>。否则我们设一个变量 $r$ 表示可到达的最远距离，$r$ 的初始值为第一个区间的右端点。我们接着检查其他区间是否与 $r$ 相邻或重叠。如果当前区间和 $r$ 相邻或重叠，我们将当前区间的右端点和 $r$ 取最大值。最后如果 $r \geq \text{len}$ 则说明成功覆盖所有区间，否则说明没有。</p>
<p>回过头来考虑如何书写二分，设 $l$ 为答案的下界，$r$ 为答案的上界，如果二分得到的时间点 $\text{mid}$ 符合条件，因为大于 $\text{mid}$ 的时间点也一定符合条件，所以更新 $r&#x3D;\text{mid}$，否则更新 $l&#x3D;\text{mid+1}$。我们重复这个过程，直到搜索范围的左右端点相等，此时就找到了最早的时间。 当然 $l,r$ 的初始值我们也需要思考，$l$ 显然为 $1$，而 $r$ 我们需要考虑极限情况，即只存在一个最左或最右的阀门在最晚的时间点打开，显然此时需要的时间为 $2 \times 10^9$，所以 $r$ 的初始值为 $2 \times 10^9$。</p>
<p>时间复杂度：$O(n\log n^2)$。</p>
<h3 id="AC-Code-1"><a href="#AC-Code-1" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> LL;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> sz(s) ((int)s.size())</span><br><br><span class="hljs-type">int</span> n, m;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base :: <span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>); cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">a</span><span class="hljs-params">(n)</span>, <span class="hljs-title">s</span><span class="hljs-params">(n)</span></span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        cin &gt;&gt; a[i] &gt;&gt; s[i];<br>    &#125;<br>    <span class="hljs-keyword">auto</span> check = [&amp;](LL t) &#123;<br>        std::vector&lt;pair&lt;LL, LL&gt;&gt; v;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (t &gt;= s[i]) v.<span class="hljs-built_in">push_back</span>(&#123;a[i] - (t - s[i]), a[i] + (t - s[i])&#125;);<br>        &#125;<br>        <span class="hljs-built_in">sort</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">sz</span>(v) == <span class="hljs-number">0</span> || v[<span class="hljs-number">0</span>].first &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        LL r = v[<span class="hljs-number">0</span>].second;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-built_in">sz</span>(v); ++i) &#123;<br>            <span class="hljs-keyword">if</span> (v[i].first &lt;= r + <span class="hljs-number">1</span>) r = <span class="hljs-built_in">max</span>(r, v[i].second);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> r &gt;= m;<br>    &#125;;<br>    LL l = <span class="hljs-number">1</span>, r = <span class="hljs-number">2e9</span>;<br>    <span class="hljs-keyword">while</span> (l &lt; r) &#123;<br>        LL mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(mid)) r = mid;<br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    cout &lt;&lt; r &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> n, m;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        n = sc.nextInt();<br>        m = sc.nextInt();<br>        <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-type">int</span>[] s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            a[i] = sc.nextInt();<br>            s[i] = sc.nextInt();<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">l</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>, r = <span class="hljs-number">2_000_000_000</span>;<br>        <span class="hljs-keyword">while</span> (l &lt; r) &#123;<br>            <span class="hljs-type">long</span> <span class="hljs-variable">mid</span> <span class="hljs-operator">=</span> l + r &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (check(mid, a, s)) r = mid;<br>            <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        System.out.println(r);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">check</span><span class="hljs-params">(<span class="hljs-type">long</span> t, <span class="hljs-type">int</span>[] a, <span class="hljs-type">int</span>[] s)</span> &#123;<br>        List&lt;Pair&lt;Long, Long&gt;&gt; v = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (t &gt;= s[i]) &#123;<br>                v.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>&lt;&gt;(a[i] - (t - s[i]), a[i] + (t - s[i])));<br>            &#125;<br>        &#125;<br>        v.sort(Comparator.comparingLong(Pair::getKey));<br>        <span class="hljs-keyword">if</span> (v.size() == <span class="hljs-number">0</span> || v.get(<span class="hljs-number">0</span>).getKey() &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> v.get(<span class="hljs-number">0</span>).getValue();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; v.size(); ++i) &#123;<br>            <span class="hljs-keyword">if</span> (v.get(i).getKey() &lt;= r + <span class="hljs-number">1</span>) r = Math.max(r, v.get(i).getValue());<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> r &gt;= m;<br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Pair</span>&lt;K, V&gt; &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> K key;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> V value;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Pair</span><span class="hljs-params">(K key, V value)</span> &#123;<br>            <span class="hljs-built_in">this</span>.key = key;<br>            <span class="hljs-built_in">this</span>.value = value;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> K <span class="hljs-title function_">getKey</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> key;<br>        &#125;<br><br>        <span class="hljs-keyword">public</span> V <span class="hljs-title function_">getValue</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-keyword">return</span> value;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python">n, m = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>a = []<br>s = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    a_i, s_i = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br>    a.append(a_i)<br>    s.append(s_i)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">t</span>):<br>    v = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        <span class="hljs-keyword">if</span> t &gt;= s[i]:<br>            v.append((a[i] - (t - s[i]), a[i] + (t - s[i])))<br>    v.sort()<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(v) == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> v[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] &gt; <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    r = v[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(v)):<br>        <span class="hljs-keyword">if</span> v[i][<span class="hljs-number">0</span>] &lt;= r + <span class="hljs-number">1</span>:<br>            r = <span class="hljs-built_in">max</span>(r, v[i][<span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">return</span> r &gt;= m<br><br>l = <span class="hljs-number">1</span><br>r = <span class="hljs-number">2_000_000_000</span><br><span class="hljs-keyword">while</span> l &lt; r:<br>    mid = (l + r) // <span class="hljs-number">2</span><br>    <span class="hljs-keyword">if</span> check(mid):<br>        r = mid<br>    <span class="hljs-keyword">else</span>:<br>        l = mid + <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(r)<br></code></pre></td></tr></table></figure>

<h2 id="保险箱-蓝桥云课"><a href="#保险箱-蓝桥云课" class="headerlink" title="保险箱 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3545/learning/?page=1&first_category_id=1&name=%E4%BF%9D%E9%99%A9%E7%AE%B1">保险箱 - 蓝桥云课</a></h2><h3 id="问题描述-4"><a href="#问题描述-4" class="headerlink" title="问题描述"></a>问题描述</h3><p>小蓝有一个保险箱，保险箱上共有 $n$ 位数字。</p>
<p>小蓝可以任意调整保险箱上的每个数字，每一次操作可以将其中一位增加 $1$ 或减少 $1$。</p>
<p>当某位原本为 $9$ 或 $0$ 时可能会向前（左边）进位&#x2F;退位，当最高位（左边第一位）上的数字变化时向前的进位或退位忽略。</p>
<p>例如： $00000$ 的第 $5$ 位减 $1$ 变为 $99999$； $99999$ 的第 $5$ 位减 $1$ 变为 $99998$； $00000$ 的第 $4$ 位减 $1$ 变为 $99990$； $97993$ 的第 $4$ 位加 $1$ 变为 $98003$； $99909$ 的第 $3$ 位加 $1$ 变为 $00009$。</p>
<p>保险箱上一开始有一个数字 $x$，小蓝希望把它变成 $y$，这样才能打开它，问小蓝最少需要操作的次数。</p>
<h3 id="输入格式-2"><a href="#输入格式-2" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入的第一行包含一个整数 $n$。</p>
<p>第二行包含一个 $n$ 位整数 $x$。</p>
<p>第三行包含一个 $n$ 位整数 $y$。</p>
<h3 id="输出格式-2"><a href="#输出格式-2" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出一行包含一个整数表示答案。</p>
<h3 id="样例输入-2"><a href="#样例输入-2" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">5 12349 54321<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-2"><a href="#样例输出-2" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">11<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-2"><a href="#评测用例规模与约定-2" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $30$% 的评测用例，$1 \leq n \leq 300$；</p>
<p>对于 $60$% 的评测用例，$1 \leq n \leq 3000$；</p>
<p>对于所有评测用例，$1 \leq n \leq 10^5$，$x,y$ 中仅包含数字 $0$ 至 $9$，可能有前导零。</p>
<h3 id="运行限制-4"><a href="#运行限制-4" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>12s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 724  |  总提交次数: 1125  |  通过率: 64.4%</p>
<p>难度: 简单   标签: 2023, 省赛, 动态规划</p>
<h3 id="解题思路-2"><a href="#解题思路-2" class="headerlink" title="解题思路"></a>解题思路</h3><p>题目问的是将一个 $n$ 位的数字从 $x$ 变成 $y$ 需要进行几次操作，每次操作可以任意选择一位进行 +1 或者 -1，并且除了最高位以外，操作产生的进位和退位会保留。</p>
<h4 id="暴力思路"><a href="#暴力思路" class="headerlink" title="暴力思路"></a>暴力思路</h4><p>最直接的解法是直接进行模拟，从最后一位数字开始进行比较，判断是加或减哪个能获得最小步骤，同时处理借位或退位的情况。</p>
<h4 id="动态规划状态设计"><a href="#动态规划状态设计" class="headerlink" title="动态规划状态设计"></a>动态规划状态设计</h4><p>由于这个题目每次对一位进行了加和减的操作之后，会产生进位和退位的后继影响，所以我们可以考虑使用动态规划来解决这个问题。从最低位（从右向左）开始考虑，低位的改变会对高位产生影响，而每一位会存在三种可能性：进位、退位、不退不进。</p>
<p>因此我们可以使用一个 dp 数组对此进行记录：</p>
<ol>
<li>$dp[i][0]$表示第 $i$ 位既没有进位、也没有退位的最小所需操作数。</li>
<li>$dp[i][1]$表示第 $i$ 位进行了进位的最小所需操作数。</li>
<li>$dp[i][2]$表示第 $i$ 位进行了退位的最小所需操作数。</li>
</ol>
<p>最后对三种可能性取一个最小值，即可得到答案。</p>
<h4 id="初始化和状态转移"><a href="#初始化和状态转移" class="headerlink" title="初始化和状态转移"></a>初始化和状态转移</h4><p>将 $x$ 上第i位数字变成 $y$ 上第i位数字所需的最小操作数是当前位的操作数加上更低位的操作数，由于存在三种不同的情况，对于每一种情况，分别有以下几种转移：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">dp[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-built_in">abs</span>(a[i] - b[i]), dp[i<span class="hljs-number">-1</span>][<span class="hljs-number">1</span>] + <span class="hljs-built_in">abs</span>((a[i] + <span class="hljs-number">1</span>) - b[i]) ,  dp[i<span class="hljs-number">-1</span>][<span class="hljs-number">2</span>] + <span class="hljs-built_in">abs</span>((a[i] - <span class="hljs-number">1</span>) - b[i]));<br><br>dp[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + (<span class="hljs-number">10</span> - a[i] + b[i]), dp[i<span class="hljs-number">-1</span>][<span class="hljs-number">1</span>] +  <span class="hljs-number">10</span> - (a[i] + <span class="hljs-number">1</span>) + b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-number">10</span> - (a[i] - <span class="hljs-number">1</span>)+ b[i]);<br><br>dp[i][<span class="hljs-number">2</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[i] + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + (a[i] + <span class="hljs-number">1</span>)+ <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + (a[i]<span class="hljs-number">-1</span>) + <span class="hljs-number">10</span> - b[i]);<br></code></pre></td></tr></table></figure>

<p>这三种情况分别对应了当前位置不进不退、进行了进位、进行了退位和上一位不进不退、进行了进位、进行了退位的组合结果，一共有 $3\times3$ 种情况。</p>
<h4 id="最终答案"><a href="#最终答案" class="headerlink" title="最终答案"></a>最终答案</h4><p>最后的答案是第 $n$ 位上的三种情况的最小值，也就是对 $dp[n][0]$, $dp[n][1]$ 和 $dp[n][2]$ 取最小值：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">ans = <span class="hljs-built_in">min</span>(dp[n][<span class="hljs-number">0</span>], dp[n][<span class="hljs-number">1</span>], dp[n][<span class="hljs-number">2</span>])<br></code></pre></td></tr></table></figure>

<p>时间复杂度为 $O(n)$。</p>
<h3 id="AC-Code-2"><a href="#AC-Code-2" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> INF = <span class="hljs-number">1000000000</span>;<br><span class="hljs-type">int</span> dp[<span class="hljs-number">1000010</span>][<span class="hljs-number">3</span>];<br><span class="hljs-type">int</span> n, a[<span class="hljs-number">1000010</span>], b[<span class="hljs-number">1000010</span>];<br>string x, y;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cin &gt;&gt; n &gt;&gt; x &gt;&gt; y;<br>    <span class="hljs-built_in">reverse</span>(x.<span class="hljs-built_in">begin</span>(), x.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">reverse</span>(y.<span class="hljs-built_in">begin</span>(), y.<span class="hljs-built_in">end</span>());<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        a[i] = x[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>        b[i] = y[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        <span class="hljs-keyword">if</span> (!i) &#123;<br>            dp[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">abs</span>(a[i] - b[i]);<br>            dp[i][<span class="hljs-number">1</span>] = <span class="hljs-number">10</span> - a[i] + b[i];<br>            dp[i][<span class="hljs-number">2</span>] = a[i] + <span class="hljs-number">10</span> - b[i];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            dp[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">min</span>(&#123;dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-built_in">abs</span>(a[i] - b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-built_in">abs</span>(a[i] + <span class="hljs-number">1</span> - b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-built_in">abs</span>(a[i] - <span class="hljs-number">1</span> - b[i])&#125;);<br>            dp[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">min</span>(&#123;dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + (<span class="hljs-number">10</span> - a[i] + b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">10</span> - (a[i] + <span class="hljs-number">1</span>) + b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-number">10</span> - (a[i] - <span class="hljs-number">1</span>) + b[i]&#125;);<br>            dp[i][<span class="hljs-number">2</span>] = <span class="hljs-built_in">min</span>(&#123;dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[i] + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + (a[i] + <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + (a[i] - <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i]&#125;);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-type">int</span> ans = dp[n<span class="hljs-number">-1</span>][<span class="hljs-number">0</span>];<br>    ans = <span class="hljs-built_in">min</span>(ans, dp[n - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);<br>    ans = <span class="hljs-built_in">min</span>(ans, dp[n - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>]);<br>    cout &lt;&lt; ans &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INF</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000000000</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> scanner.nextInt();<br>        scanner.nextLine(); <span class="hljs-comment">// Consume newline</span><br>        <br>        <span class="hljs-type">String</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(scanner.nextLine()).reverse().toString();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(scanner.nextLine()).reverse().toString();<br>        <br>        <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br>        <span class="hljs-type">int</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n];<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            a[i] = x.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            b[i] = y.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>;<br>        &#125;<br>        <br>        <span class="hljs-type">int</span>[][] dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">1000010</span>][<span class="hljs-number">3</span>];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) &#123;<br>                dp[i][<span class="hljs-number">0</span>] = Math.abs(a[i] - b[i]);<br>                dp[i][<span class="hljs-number">1</span>] = <span class="hljs-number">10</span> - a[i] + b[i];<br>                dp[i][<span class="hljs-number">2</span>] = a[i] + <span class="hljs-number">10</span> - b[i];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                dp[i][<span class="hljs-number">0</span>] = Math.min(<br>                    Math.min(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + Math.abs(a[i] - b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + Math.abs(a[i] + <span class="hljs-number">1</span> - b[i])),<br>                    dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + Math.abs(a[i] - <span class="hljs-number">1</span> - b[i])<br>                );<br>                <br>                dp[i][<span class="hljs-number">1</span>] = Math.min(<br>                    Math.min(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + (<span class="hljs-number">10</span> - a[i] + b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">10</span> - (a[i] + <span class="hljs-number">1</span>) + b[i]),<br>                    dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-number">10</span> - (a[i] - <span class="hljs-number">1</span>) + b[i]<br>                );<br>                <br>                dp[i][<span class="hljs-number">2</span>] = Math.min(<br>                    Math.min(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[i] + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + (a[i] + <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i]),<br>                    dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + (a[i] - <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i]<br>                );<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> Math.min(Math.min(dp[n - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>], dp[n - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>]), dp[n - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>]);<br>        System.out.println(ans);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python">INF = <span class="hljs-number">1000000000</span><br>dp = [[INF <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000010</span>)]<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>x = <span class="hljs-built_in">input</span>()[::-<span class="hljs-number">1</span>]<br>y = <span class="hljs-built_in">input</span>()[::-<span class="hljs-number">1</span>]<br><br>a = [<span class="hljs-number">0</span>] * n<br>b = [<span class="hljs-number">0</span>] * n<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    a[i] = <span class="hljs-built_in">int</span>(x[i])<br>    b[i] = <span class="hljs-built_in">int</span>(y[i])<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>    <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>:<br>        dp[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">abs</span>(a[i] - b[i])<br>        dp[i][<span class="hljs-number">1</span>] = <span class="hljs-number">10</span> - a[i] + b[i]<br>        dp[i][<span class="hljs-number">2</span>] = a[i] + <span class="hljs-number">10</span> - b[i]<br>    <span class="hljs-keyword">else</span>:<br>        dp[i][<span class="hljs-number">0</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + <span class="hljs-built_in">abs</span>(a[i] - b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-built_in">abs</span>(a[i] + <span class="hljs-number">1</span> - b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-built_in">abs</span>(a[i] - <span class="hljs-number">1</span> - b[i]))<br>        dp[i][<span class="hljs-number">1</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + (<span class="hljs-number">10</span> - a[i] + b[i]), dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + <span class="hljs-number">10</span> - (a[i] + <span class="hljs-number">1</span>) + b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + <span class="hljs-number">10</span> - (a[i] - <span class="hljs-number">1</span>) + b[i])<br>        dp[i][<span class="hljs-number">2</span>] = <span class="hljs-built_in">min</span>(dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[i] + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] + (a[i] + <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i], dp[i - <span class="hljs-number">1</span>][<span class="hljs-number">2</span>] + (a[i] - <span class="hljs-number">1</span>) + <span class="hljs-number">10</span> - b[i])<br><br>ans = <span class="hljs-built_in">min</span>(dp[n-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], dp[n-<span class="hljs-number">1</span>][<span class="hljs-number">1</span>], dp[n-<span class="hljs-number">1</span>][<span class="hljs-number">2</span>])<br><span class="hljs-built_in">print</span>(ans)<br></code></pre></td></tr></table></figure>

<h2 id="树上选点-蓝桥云课"><a href="#树上选点-蓝桥云课" class="headerlink" title="树上选点 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3546/learning/?page=1&first_category_id=1&name=%E6%A0%91%E4%B8%8A%E9%80%89%E7%82%B9">树上选点 - 蓝桥云课</a></h2><h3 id="问题描述-5"><a href="#问题描述-5" class="headerlink" title="问题描述"></a>问题描述</h3><p>给定一棵树，树根为 $1$，每个点的点权为 $V_i$。 你需要找出若干个点 $P_i$，使得：</p>
<ol>
<li>每两个点 $P_x$、$P_y$ 互不相邻；</li>
<li>每两个点 $P_x$、$P_y$ 与树根的距离互不相同；</li>
<li>找出的点的点权之和尽可能大。</li>
</ol>
<p>请输出找到的这些点的点权和的最大值。</p>
<h3 id="输入格式-3"><a href="#输入格式-3" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入的第一行包含一个整数 $n$。</p>
<p>第二行包含 $n-1$ 个整数 $F_i$，相邻整数之间使用一个空格分隔，分别表示第 $2$ 至 $n$ 个结点的父结点编号。</p>
<p>第三行包含 $n$ 个整数 $V_i$，相邻整数之间使用一个空格分隔，分别表示每个结点的点权。</p>
<h3 id="输出格式-3"><a href="#输出格式-3" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出一行包含一个整数表示答案。</p>
<h3 id="样例输入-3"><a href="#样例输入-3" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">5 1 2 3 2 2 1 9 3 5<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-3"><a href="#样例输出-3" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">11<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-3"><a href="#评测用例规模与约定-3" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $40$% 的评测用例，$n \leq 5000$；</p>
<p>对于所有评测用例，$1 \leq n \leq 2 \times 10^5$，$1 \leq F_i &lt; i$，$1 \leq V_i \leq 10^4$。</p>
<h3 id="运行限制-5"><a href="#运行限制-5" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>20s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>20s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>20s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>20s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 210  |  总提交次数: 457  |  通过率: 46%</p>
<p>难度: 简单   标签: 2023, 省赛, 动态规划</p>
<p>版权声明</p>
<p>部分题目由用户贡献，若您是著作权持有人，请与我们联系。</p>
<h3 id="解题思路-3"><a href="#解题思路-3" class="headerlink" title="解题思路"></a>解题思路</h3><p>这个问题可以使用动态规划的策略进行解决。首先，我们要解析并存储树的结构，然后从叶子节点开始，通过动态规划的方法，逐步向上更新每个节点被选中和不被选中时能得到的最大权值和。</p>
<p><strong>状态定义</strong></p>
<p>我们定义两种状态，$f[u][1]$ 和 $f[u][0]$。$f[u][1]$ 表示选择节点 $u$ 的最大权值，$f[u][0]$ 表示不选择节点 $u$ 的最大权值。</p>
<p><strong>状态转移</strong></p>
<p>对于每一个节点 $u$，我们有以下状态转移方程：</p>
<ul>
<li>不选择当前节点 $u$：$f[u][0] &#x3D; max(f[u][0], f[v][1])$，其中 $v$ 是 $u$ 的下一层节点，表示我们可以选择下一层的任何一个节点；</li>
<li>选择当前节点 $u$：$f[u][1] &#x3D; max(f[u][1], a[u] + f[v][0])$，表示我们选择当前节点 $u$，并且我们不能选择其子节点 $v$，但是我们可以选择 $v$ 的子节点。</li>
</ul>
<p><strong>具体实现</strong></p>
<p>首先，我们读取输入数据，存储树的结构，并初始化状态矩阵。然后，我们从叶子节点开始，逐步向上更新每一个节点的状态。对于每一层的节点，我们先更新不选择该节点的方案，然后再更新选择该节点的方案。为了减少时间复杂度，我们使用了 <code>multiset</code> 来存储每一层能够转移的所有状态，可以直接找到最大值。</p>
<p><strong>时间复杂度分析</strong></p>
<p>每个节点我们都进行了一次状态更新操作，所以时间复杂度为 $O(n)$。在更新状态时，我们使用了 <code>multiset</code> 进行最大值查询，时间复杂度为 $O(\log n)$，所以总的时间复杂度为 $O(n \log n)$。</p>
<h3 id="AC-Code-3"><a href="#AC-Code-3" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//c++</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br>using namespace <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">200010</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt; g[N], depth[N];     <span class="hljs-comment">// g[]用来存每个结点的儿子 , depth[] 用来存每一深度的结点</span><br><span class="hljs-type">int</span> d[N], a[N], f[N][<span class="hljs-number">2</span>], fa[N]; <span class="hljs-comment">// d[]记录每个结点的深度,a[]是每个结点的值,f[][]第一维表示结点、第二维表示是否选择该节点</span><br><span class="hljs-built_in">multiset</span>&lt;<span class="hljs-type">int</span>&gt; s[N];             <span class="hljs-comment">// 存每一层能够转移的所有状态</span><br><span class="hljs-type">signed</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;n);<br>    d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;          <span class="hljs-comment">// 1是根，所以深度为1</span><br>    <span class="hljs-type">int</span> max_depth = <span class="hljs-number">0</span>; <span class="hljs-comment">// 记录最大深度</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;fa[i]);<br>        g[fa[i]].push_back(i);            <span class="hljs-comment">// 存结点的儿子</span><br>        d[i] = d[fa[i]] + <span class="hljs-number">1</span>;              <span class="hljs-comment">// 子节点深度等于父节点深度+1</span><br>        max_depth = max(max_depth, d[i]); <span class="hljs-comment">// 更新最大深度</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;a[i]);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        depth[d[i]].push_back(i); <span class="hljs-comment">// 记录每一层的结点</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = max_depth; j &gt;= <span class="hljs-number">1</span>; j--) <span class="hljs-comment">// 从叶子结点开始更新结点最大值</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> u : depth[j]) <span class="hljs-comment">// 本层结点大小更新</span><br>        &#123;<br>            <span class="hljs-comment">// 先来更新不选择该结点的方案</span><br>            <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size())                               <span class="hljs-comment">// 如果下一层存在能转移过来的状态</span><br>                f[u][<span class="hljs-number">0</span>] = max(f[u][<span class="hljs-number">0</span>], *prev(s[j + <span class="hljs-number">1</span>].end())); <span class="hljs-comment">// 当前节点如果不选肯定选的是前一层的最大值(选或者不选都行)</span><br><br>            <span class="hljs-comment">// 再来更新选择该节点的方案</span><br>            f[u][<span class="hljs-number">1</span>] = a[u];     <span class="hljs-comment">// 如果选择该结点,则该结点的最小值是结点本身的值</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v : g[u]) <span class="hljs-comment">// 选择能够转移到现在这个状态的状态</span><br>            &#123;<br>                s[j + <span class="hljs-number">1</span>].erase(s[j + <span class="hljs-number">1</span>].find(f[v][<span class="hljs-number">1</span>])); <span class="hljs-comment">// 因为不能选择相邻结点,把选取了它的儿子的方案除去,不能从这些最大值中更新</span><br>            &#125;<br>            <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size()) <span class="hljs-comment">// 如果下一层存在能转移过来的状态</span><br>            &#123;<br>                <span class="hljs-type">int</span> mx = *prev(s[j + <span class="hljs-number">1</span>].end());    <span class="hljs-comment">// 能够转移至这个状态的最大值</span><br>                f[u][<span class="hljs-number">1</span>] = max(f[u][<span class="hljs-number">1</span>], a[u] + mx); <span class="hljs-comment">// 如果选这个节点,那么要从他非儿子中选一个最大的(不选或选)或者从他儿子中选一个不选的最大的</span><br>            &#125;<br><br>            <span class="hljs-comment">// 为下一次状态更新做准备</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v : g[u])<br>            &#123;<br>                s[j + <span class="hljs-number">1</span>].insert(f[v][<span class="hljs-number">1</span>]); <span class="hljs-comment">// 刚刚为了更新选择该结点状态时删去了选它的儿子状态,现在再加回来,因为本层其他节点可能更新需要</span><br>            &#125;<br>            s[j].insert(f[u][<span class="hljs-number">1</span>]);<br>            s[j].insert(f[u][<span class="hljs-number">0</span>]); <span class="hljs-comment">// 当前节点或者不选都可以作为它们上一层节点的更新值</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, max(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>])); <span class="hljs-comment">// 在选和不选1结点中的方案中的最大值就是答案</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> <span class="hljs-number">200010</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt;[] g = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>[N], depth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[] d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], fa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[][] f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N][<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> TreeMap&lt;Integer, Integer&gt;[] s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>[N];<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> scanner.nextInt();<br>        d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">max_depth</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            g[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>            depth[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= n; i++) &#123;<br>            fa[i] = scanner.nextInt();<br>            g[fa[i]].add(i);<br>            d[i] = d[fa[i]] + <span class="hljs-number">1</span>;<br>            max_depth = Math.max(max_depth, d[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            a[i] = scanner.nextInt();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            depth[d[i]].add(i);<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= max_depth + <span class="hljs-number">1</span>; i++)&#123;<br>            s[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> max_depth; j &gt;= <span class="hljs-number">1</span>; j--) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> u : depth[j]) &#123;<br>                <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size() &gt; <span class="hljs-number">0</span>) &#123;<br>                    f[u][<span class="hljs-number">0</span>] = Math.max(f[u][<span class="hljs-number">0</span>], s[j + <span class="hljs-number">1</span>].lastKey());<br>                &#125;<br>                f[u][<span class="hljs-number">1</span>] = a[u];<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : g[u]) &#123;<br>                    remove(s[j + <span class="hljs-number">1</span>], f[v][<span class="hljs-number">1</span>]);<br>                &#125;<br>                <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size() &gt; <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-type">int</span> <span class="hljs-variable">mx</span> <span class="hljs-operator">=</span> s[j + <span class="hljs-number">1</span>].lastKey();<br>                    f[u][<span class="hljs-number">1</span>] = Math.max(f[u][<span class="hljs-number">1</span>], a[u] + mx);<br>                &#125;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : g[u]) &#123;<br>                    add(s[j + <span class="hljs-number">1</span>], f[v][<span class="hljs-number">1</span>]);<br>                &#125;<br>                add(s[j], f[u][<span class="hljs-number">1</span>]);<br>                add(s[j], f[u][<span class="hljs-number">0</span>]);<br>            &#125;<br>        &#125;<br><br>        System.out.println(Math.max(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]));<br>        scanner.close();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TreeMap&lt;Integer, Integer&gt; map, <span class="hljs-type">int</span> x)</span> &#123;<br>        map.put(x, map.getOrDefault(x, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(TreeMap&lt;Integer, Integer&gt; map, <span class="hljs-type">int</span> x)</span> &#123;<br>        <span class="hljs-keyword">if</span> (map.containsKey(x)) &#123;<br>            <span class="hljs-keyword">if</span> (map.get(x) == <span class="hljs-number">1</span>) &#123;<br>                map.remove(x);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                map.put(x, map.get(x) - <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span><br><br>N = <span class="hljs-number">200010</span><br>g = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>depth = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>d = [<span class="hljs-number">0</span>] * N<br>a = [<span class="hljs-number">0</span>] * N<br>fa = [<span class="hljs-number">0</span>] * N<br>f = [[<span class="hljs-number">0</span>] * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>s = [Counter() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span><br>max_depth = <span class="hljs-number">0</span><br>arrt = [<span class="hljs-built_in">int</span>(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>).split()]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, n + <span class="hljs-number">1</span>):<br>    fa[i] = arrt[i - <span class="hljs-number">2</span>]<span class="hljs-comment">#int(input())</span><br>    g[fa[i]].append(i)<br>    d[i] = d[fa[i]] + <span class="hljs-number">1</span><br>    max_depth = <span class="hljs-built_in">max</span>(max_depth, d[i])<br><br>arrt = [<span class="hljs-built_in">int</span>(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>).split()]<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    a[i] = arrt[i - <span class="hljs-number">1</span>] <span class="hljs-comment">#int(input())</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    depth[d[i]].append(i)<br><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_depth, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> depth[j]:<br>        <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>]:<br>            f[u][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[u][<span class="hljs-number">0</span>], <span class="hljs-built_in">max</span>(s[j + <span class="hljs-number">1</span>].keys()))<br><br>        f[u][<span class="hljs-number">1</span>] = a[u]<br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> g[u]:<br>            s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">del</span> s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]]<br><br>        <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>]:<br>            mx = <span class="hljs-built_in">max</span>(s[j + <span class="hljs-number">1</span>].keys())<br>            f[u][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[u][<span class="hljs-number">1</span>], a[u] + mx)<br><br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> g[u]:<br>            s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br><br>        s[j][f[u][<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br>        s[j][f[u][<span class="hljs-number">0</span>]] += <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">max</span>(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure>

<h2 id="T字消除-蓝桥云课"><a href="#T字消除-蓝桥云课" class="headerlink" title="T字消除 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3547/learning/?page=1&first_category_id=1&tags=2023&name=T">T字消除 - 蓝桥云课</a></h2><h3 id="问题描述-6"><a href="#问题描述-6" class="headerlink" title="问题描述"></a>问题描述</h3><p>小蓝正在玩一款游戏，游戏中有一个 $n \times n$ 大小的 $01$ 矩阵 $A_{i,j}$。 小蓝每次需要选择一个 $T$ 字型的区域，且这个区域内至少要有一个 $1$。选中后，这个区域内所有的元素都会变成 $0$。 给定游戏目前的矩阵，小蓝想知道他最多可以进行多少次上述操作。 $T$ 字型区域是指形如 $(x-1,y)\to(x,y)\to(x+1,y)\to(x,y+1)$ 的四个点所形成的区域。其旋转 $90^\circ,180^\circ,270^\circ$ 的形式同样也视作 $T$ 字形区域。</p>
<h3 id="输入格式-4"><a href="#输入格式-4" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入包含多组数据。</p>
<p>输入的第一行包含一个整数 $D$ 表示数据组数。</p>
<p>对于每组数据，第一行包含一个整数 $n$。</p>
<p>接下来 $n$ 行每行包含 $n$ 个 $0$ 或 $1$，表示矩阵 $A_{i,j}$ 的每个位置的值。</p>
<h3 id="输出格式-4"><a href="#输出格式-4" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出 $D$ 行，每行包含一个整数表示小蓝最多可以对当前询问中的矩阵操作的次数。</p>
<h3 id="样例输入-4"><a href="#样例输入-4" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">1 3 001 011 111<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-4"><a href="#样例输出-4" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">5<br></code></pre></td></tr></table></figure>

<h3 id="样例说明"><a href="#样例说明" class="headerlink" title="样例说明"></a>样例说明</h3><p>我们用 $X$ 表示某次操作选中的 $T$ 字形，以下给出一种可行方案：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">001 XXX 0X0 00X 0X0 X00 011 =&gt; 0X1 =&gt; XXX =&gt; 0XX =&gt; XX0 =&gt; XX0 111 111 111 11X 1X0 X00<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-4"><a href="#评测用例规模与约定-4" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $10$% 的评测用例，$n &#x3D; 3$；</p>
<p>对于 $40$% 的评测用例，$n \leq 30$；</p>
<p>对于所有评测用例，$3 \leq n \leq 2000$，矩阵中仅含 $0$ 和 $1$。</p>
<h3 id="运行限制-6"><a href="#运行限制-6" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>999s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>999s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>999s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>999s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 44  |  总提交次数: 199  |  通过率: 22.1%</p>
<p>难度: 简单   标签: 2023, 模拟, 省赛</p>
<h3 id="解题思路-4"><a href="#解题思路-4" class="headerlink" title="解题思路"></a>解题思路</h3><p>这个问题可以使用动态规划的策略进行解决。首先，我们要解析并存储树的结构，然后从叶子节点开始，通过动态规划的方法，逐步向上更新每个节点被选中和不被选中时能得到的最大权值和。</p>
<p><strong>状态定义</strong></p>
<p>我们定义两种状态，$f[u][1]$ 和 $f[u][0]$。$f[u][1]$ 表示选择节点 $u$ 的最大权值，$f[u][0]$ 表示不选择节点 $u$ 的最大权值。</p>
<p><strong>状态转移</strong></p>
<p>对于每一个节点 $u$，我们有以下状态转移方程：</p>
<ul>
<li>不选择当前节点 $u$：$f[u][0] &#x3D; max(f[u][0], f[v][1])$，其中 $v$ 是 $u$ 的下一层节点，表示我们可以选择下一层的任何一个节点；</li>
<li>选择当前节点 $u$：$f[u][1] &#x3D; max(f[u][1], a[u] + f[v][0])$，表示我们选择当前节点 $u$，并且我们不能选择其子节点 $v$，但是我们可以选择 $v$ 的子节点。</li>
</ul>
<p><strong>具体实现</strong></p>
<p>首先，我们读取输入数据，存储树的结构，并初始化状态矩阵。然后，我们从叶子节点开始，逐步向上更新每一个节点的状态。对于每一层的节点，我们先更新不选择该节点的方案，然后再更新选择该节点的方案。为了减少时间复杂度，我们使用了 <code>multiset</code> 来存储每一层能够转移的所有状态，可以直接找到最大值。</p>
<p><strong>时间复杂度分析</strong></p>
<p>每个节点我们都进行了一次状态更新操作，所以时间复杂度为 $O(n)$。在更新状态时，我们使用了 <code>multiset</code> 进行最大值查询，时间复杂度为 $O(\log n)$，所以总的时间复杂度为 $O(n \log n)$。</p>
<h3 id="AC-Code-4"><a href="#AC-Code-4" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//c++</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br>using namespace <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">200010</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt; g[N], depth[N];     <span class="hljs-comment">// g[]用来存每个结点的儿子 , depth[] 用来存每一深度的结点</span><br><span class="hljs-type">int</span> d[N], a[N], f[N][<span class="hljs-number">2</span>], fa[N]; <span class="hljs-comment">// d[]记录每个结点的深度,a[]是每个结点的值,f[][]第一维表示结点、第二维表示是否选择该节点</span><br><span class="hljs-built_in">multiset</span>&lt;<span class="hljs-type">int</span>&gt; s[N];             <span class="hljs-comment">// 存每一层能够转移的所有状态</span><br><span class="hljs-type">signed</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;n);<br>    d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;          <span class="hljs-comment">// 1是根，所以深度为1</span><br>    <span class="hljs-type">int</span> max_depth = <span class="hljs-number">0</span>; <span class="hljs-comment">// 记录最大深度</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;fa[i]);<br>        g[fa[i]].push_back(i);            <span class="hljs-comment">// 存结点的儿子</span><br>        d[i] = d[fa[i]] + <span class="hljs-number">1</span>;              <span class="hljs-comment">// 子节点深度等于父节点深度+1</span><br>        max_depth = max(max_depth, d[i]); <span class="hljs-comment">// 更新最大深度</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;a[i]);<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        depth[d[i]].push_back(i); <span class="hljs-comment">// 记录每一层的结点</span><br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = max_depth; j &gt;= <span class="hljs-number">1</span>; j--) <span class="hljs-comment">// 从叶子结点开始更新结点最大值</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> u : depth[j]) <span class="hljs-comment">// 本层结点大小更新</span><br>        &#123;<br>            <span class="hljs-comment">// 先来更新不选择该结点的方案</span><br>            <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size())                               <span class="hljs-comment">// 如果下一层存在能转移过来的状态</span><br>                f[u][<span class="hljs-number">0</span>] = max(f[u][<span class="hljs-number">0</span>], *prev(s[j + <span class="hljs-number">1</span>].end())); <span class="hljs-comment">// 当前节点如果不选肯定选的是前一层的最大值(选或者不选都行)</span><br><br>            <span class="hljs-comment">// 再来更新选择该节点的方案</span><br>            f[u][<span class="hljs-number">1</span>] = a[u];     <span class="hljs-comment">// 如果选择该结点,则该结点的最小值是结点本身的值</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v : g[u]) <span class="hljs-comment">// 选择能够转移到现在这个状态的状态</span><br>            &#123;<br>                s[j + <span class="hljs-number">1</span>].erase(s[j + <span class="hljs-number">1</span>].find(f[v][<span class="hljs-number">1</span>])); <span class="hljs-comment">// 因为不能选择相邻结点,把选取了它的儿子的方案除去,不能从这些最大值中更新</span><br>            &#125;<br>            <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size()) <span class="hljs-comment">// 如果下一层存在能转移过来的状态</span><br>            &#123;<br>                <span class="hljs-type">int</span> mx = *prev(s[j + <span class="hljs-number">1</span>].end());    <span class="hljs-comment">// 能够转移至这个状态的最大值</span><br>                f[u][<span class="hljs-number">1</span>] = max(f[u][<span class="hljs-number">1</span>], a[u] + mx); <span class="hljs-comment">// 如果选这个节点,那么要从他非儿子中选一个最大的(不选或选)或者从他儿子中选一个不选的最大的</span><br>            &#125;<br><br>            <span class="hljs-comment">// 为下一次状态更新做准备</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v : g[u])<br>            &#123;<br>                s[j + <span class="hljs-number">1</span>].insert(f[v][<span class="hljs-number">1</span>]); <span class="hljs-comment">// 刚刚为了更新选择该结点状态时删去了选它的儿子状态,现在再加回来,因为本层其他节点可能更新需要</span><br>            &#125;<br>            s[j].insert(f[u][<span class="hljs-number">1</span>]);<br>            s[j].insert(f[u][<span class="hljs-number">0</span>]); <span class="hljs-comment">// 当前节点或者不选都可以作为它们上一层节点的更新值</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, max(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>])); <span class="hljs-comment">// 在选和不选1结点中的方案中的最大值就是答案</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> <span class="hljs-number">200010</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;Integer&gt;[] g = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>[N], depth = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[] d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], fa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[][] f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N][<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> TreeMap&lt;Integer, Integer&gt;[] s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>[N];<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> scanner.nextInt();<br>        d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">max_depth</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            g[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>            depth[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt;= n; i++) &#123;<br>            fa[i] = scanner.nextInt();<br>            g[fa[i]].add(i);<br>            d[i] = d[fa[i]] + <span class="hljs-number">1</span>;<br>            max_depth = Math.max(max_depth, d[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            a[i] = scanner.nextInt();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            depth[d[i]].add(i);<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= max_depth + <span class="hljs-number">1</span>; i++)&#123;<br>            s[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> max_depth; j &gt;= <span class="hljs-number">1</span>; j--) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> u : depth[j]) &#123;<br>                <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size() &gt; <span class="hljs-number">0</span>) &#123;<br>                    f[u][<span class="hljs-number">0</span>] = Math.max(f[u][<span class="hljs-number">0</span>], s[j + <span class="hljs-number">1</span>].lastKey());<br>                &#125;<br>                f[u][<span class="hljs-number">1</span>] = a[u];<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : g[u]) &#123;<br>                    remove(s[j + <span class="hljs-number">1</span>], f[v][<span class="hljs-number">1</span>]);<br>                &#125;<br>                <span class="hljs-keyword">if</span> (s[j + <span class="hljs-number">1</span>].size() &gt; <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-type">int</span> <span class="hljs-variable">mx</span> <span class="hljs-operator">=</span> s[j + <span class="hljs-number">1</span>].lastKey();<br>                    f[u][<span class="hljs-number">1</span>] = Math.max(f[u][<span class="hljs-number">1</span>], a[u] + mx);<br>                &#125;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : g[u]) &#123;<br>                    add(s[j + <span class="hljs-number">1</span>], f[v][<span class="hljs-number">1</span>]);<br>                &#125;<br>                add(s[j], f[u][<span class="hljs-number">1</span>]);<br>                add(s[j], f[u][<span class="hljs-number">0</span>]);<br>            &#125;<br>        &#125;<br><br>        System.out.println(Math.max(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]));<br>        scanner.close();<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(TreeMap&lt;Integer, Integer&gt; map, <span class="hljs-type">int</span> x)</span> &#123;<br>        map.put(x, map.getOrDefault(x, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(TreeMap&lt;Integer, Integer&gt; map, <span class="hljs-type">int</span> x)</span> &#123;<br>        <span class="hljs-keyword">if</span> (map.containsKey(x)) &#123;<br>            <span class="hljs-keyword">if</span> (map.get(x) == <span class="hljs-number">1</span>) &#123;<br>                map.remove(x);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                map.put(x, map.get(x) - <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span><br><br>N = <span class="hljs-number">200010</span><br>g = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>depth = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>d = [<span class="hljs-number">0</span>] * N<br>a = [<span class="hljs-number">0</span>] * N<br>fa = [<span class="hljs-number">0</span>] * N<br>f = [[<span class="hljs-number">0</span>] * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br>s = [Counter() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br><br>n = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>d[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span><br>max_depth = <span class="hljs-number">0</span><br>arrt = [<span class="hljs-built_in">int</span>(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>).split()]<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, n + <span class="hljs-number">1</span>):<br>    fa[i] = arrt[i - <span class="hljs-number">2</span>]<span class="hljs-comment">#int(input())</span><br>    g[fa[i]].append(i)<br>    d[i] = d[fa[i]] + <span class="hljs-number">1</span><br>    max_depth = <span class="hljs-built_in">max</span>(max_depth, d[i])<br><br>arrt = [<span class="hljs-built_in">int</span>(n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;&quot;</span>).split()]<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    a[i] = arrt[i - <span class="hljs-number">1</span>] <span class="hljs-comment">#int(input())</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    depth[d[i]].append(i)<br><br><span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_depth, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):<br>    <span class="hljs-keyword">for</span> u <span class="hljs-keyword">in</span> depth[j]:<br>        <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>]:<br>            f[u][<span class="hljs-number">0</span>] = <span class="hljs-built_in">max</span>(f[u][<span class="hljs-number">0</span>], <span class="hljs-built_in">max</span>(s[j + <span class="hljs-number">1</span>].keys()))<br><br>        f[u][<span class="hljs-number">1</span>] = a[u]<br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> g[u]:<br>            s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">del</span> s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]]<br><br>        <span class="hljs-keyword">if</span> s[j + <span class="hljs-number">1</span>]:<br>            mx = <span class="hljs-built_in">max</span>(s[j + <span class="hljs-number">1</span>].keys())<br>            f[u][<span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(f[u][<span class="hljs-number">1</span>], a[u] + mx)<br><br>        <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> g[u]:<br>            s[j + <span class="hljs-number">1</span>][f[v][<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br><br>        s[j][f[u][<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br>        s[j][f[u][<span class="hljs-number">0</span>]] += <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">max</span>(f[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>], f[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure>

<h2 id="异或和-蓝桥云课"><a href="#异或和-蓝桥云课" class="headerlink" title="异或和 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3549/learning/?page=1&first_category_id=1&tags=2023&name=%E5%BC%82%E6%88%96%E5%92%8C">异或和 - 蓝桥云课</a></h2><h3 id="问题描述-7"><a href="#问题描述-7" class="headerlink" title="问题描述"></a>问题描述</h3><p>给一棵含有 $n$ 个结点的有根树，根结点为 $1$，编号为 $i$ 的点有点权 $a_i$（$i \in [1,n]$）。现在有两种操作，格式如下：</p>
<ul>
<li>$1\ x\ y$：该操作表示将点 $x$ 的点权改为 $y$。</li>
<li>$2\ x$：该操作表示查询以结点 $x$ 为根的子树内的所有点的点权的异或和。</li>
</ul>
<p>现有长度为 $m$ 的操作序列，请对于每个第二类操作给出正确的结果。</p>
<h3 id="输入格式-5"><a href="#输入格式-5" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入的第一行包含两个正整数 $n,m$，用一个空格分隔。</p>
<p>第二行包含 $n$ 个整数 $a_1,a_2,\ldots,a_n$，相邻整数之间使用一个空格分隔。</p>
<p>接下来 $n-1$ 行，每行包含两个正整数 $u_i,v_i$，表示结点 $u_i$ 和 $v_i$ 之间有一条边。</p>
<p>接下来 $m$ 行，每行包含一个操作。</p>
<h3 id="输出格式-5"><a href="#输出格式-5" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出若干行，每行对应一个查询操作的答案。</p>
<h3 id="样例输入-5"><a href="#样例输入-5" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">4 4 1 2 3 4 1 2 1 3 2 4 2 1 1 1 0 2 1 2 2<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-5"><a href="#样例输出-5" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">4 5 6<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-5"><a href="#评测用例规模与约定-5" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $30$% 的评测用例，$n,m \leq 1000$；</p>
<p>对于所有评测用例，$1 \leq n,m \leq 100000$，$0 \leq a_i,y \leq 100000$，$1 \leq u_i,v_i,x \leq n$。</p>
<h3 id="运行限制-7"><a href="#运行限制-7" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>17s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>17s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>17s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>17s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 367  |  总提交次数: 453  |  通过率: 81%</p>
<p>难度: 简单   标签: 2023, DFS序, 图论, 树状数组, 省赛</p>
<h3 id="解题思路-5"><a href="#解题思路-5" class="headerlink" title="解题思路"></a>解题思路</h3><p>考虑第二个操作，查询以节点 $x$ 为根的子树内的所有点的点权的异或和。</p>
<p>类似这种子树查询问题，我们通常使用 DFS 序对树进行预处理。具体地说，在 DFS 遍历中，我们从根节点开始，依次遍历它的每个子节点。对于每个子节点，我们首先遍历它的子树，然后回溯到该子节点，继续遍历它的兄弟节点。在遍历的过程中，我们可以记录每个节点在 DFS 序中的遍历顺序，即第一次遍历到该节点的时间戳和最后一次遍历到该节点的时间戳。这里的时间戳可以使用一个计数器来实现，每次遍历到一个新节点时，计数器加 $1$，表示当前节点的时间戳。当回溯到该节点时，表示当前节点的最后一次遍历时间戳。</p>
<p>这样操作有什么作用呢？假设我们有一个长度大于 $n$ 的数组 $a$，我们记进入每个点 $i$ 的时间戳为 $\text{in}[i]$，回溯到点 $i$ 的时间戳为 $\text{out}[i]$，同时将每个点的点权赋值到 $a[\text{in}[i]]$ 上。这样对于一个根为 $x$ 的子树内所有点的点权异或和就等价于 $a$ 数组区间 $[\text{in}[x],\text{out}[x]]$ 的异或和。这样我们就将复杂的树上询问，转化为我们熟悉的数组区间查询问题。</p>
<p>接下来考虑操作 $1$，将点 $x$ 的点权改为 $y$。</p>
<p>结合上述分析，该操作即是将 $a[\text{in}[x]]$ 改为 $y$。</p>
<p>综上所述，我们需要对 $a$ 数组进行一个单点修改和区间查询的操作，这个经典操作我们可以使用树状数组或者线段树来维护，代码中使用的是树状数组。具体地说，我们使用一个树状数组 $a$ 来维护树的 DFS 序的前缀异或序列，$a_i$ 表示区间 $[1,i]$ 的异或和。</p>
<ul>
<li>操作 $1$：将 $a[\text{in}[x]]$ 修改为 $y$。</li>
<li>操作 $2$：求解 $[\text{in}[x],\text{out}[x]]$ 的异或和，根据异或性质 $[1,r] \oplus[1,l-1]&#x3D;[l,r]$，我们只需要求解 $a_{\text{in}[x]-1} \oplus a_r$ 即可求得答案。</li>
</ul>
<p>时间复杂度为 $O(n \log n)$。</p>
<h3 id="AC-Code-5"><a href="#AC-Code-5" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100010</span>;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Fenwick</span> &#123;<br>    <span class="hljs-type">int</span> n;<br>    std::vector&lt;T&gt; a;<br><br>    <span class="hljs-built_in">Fenwick</span>(<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">init</span>(n);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>-&gt;n = n;<br>        a.<span class="hljs-built_in">assign</span>(n + <span class="hljs-number">1</span>, <span class="hljs-built_in">T</span>());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> x, T v)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (; x &lt;= n; x += x &amp; (-x)) &#123;<br>            a[x] ^= v;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function">T <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> ans = <span class="hljs-built_in">T</span>();<br>        <span class="hljs-keyword">for</span> (; x; x -= x &amp; (-x)) &#123;<br>            ans ^= a[x];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br><br>    <span class="hljs-function">T <span class="hljs-title">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(r) ^ <span class="hljs-built_in">sum</span>(l);<br>    &#125;<br>&#125;;<br><span class="hljs-type">int</span> n, m, tot;<br><span class="hljs-type">int</span> a[N], in[N], out[N];<br>std::vector&lt;<span class="hljs-type">int</span>&gt; e[N];<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> fa)</span> </span>&#123;<br>    in[u] = ++tot;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> v : e[u]) &#123;<br>        <span class="hljs-keyword">if</span> (v == fa) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-built_in">dfs</span>(v, u);<br>    &#125;<br>    out[u] = tot;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base :: <span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-literal">false</span>);<br>    cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>); cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);<br>    cin &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-function">Fenwick&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">tr</span><span class="hljs-params">(n)</span></span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) cin &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; ++i) &#123;<br>        <span class="hljs-type">int</span> u, v;<br>        cin &gt;&gt; u &gt;&gt; v;<br>        e[u].<span class="hljs-built_in">push_back</span>(v);<br>        e[v].<span class="hljs-built_in">push_back</span>(u);<br>    &#125;<br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) tr.<span class="hljs-built_in">add</span>(in[i], a[i]);<br>    <span class="hljs-type">int</span> op, x, y;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i) &#123;<br>        cin &gt;&gt; op &gt;&gt; x;<br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-number">1</span>) &#123;<br>            cin &gt;&gt; y;<br>            <span class="hljs-type">int</span> v = tr.<span class="hljs-built_in">rangeSum</span>(in[x] - <span class="hljs-number">1</span>, in[x]);<br>            tr.<span class="hljs-built_in">add</span>(in[x], y ^ v);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            cout &lt;&lt; tr.<span class="hljs-built_in">rangeSum</span>(in[x] - <span class="hljs-number">1</span>, out[x]) &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.io.*;<br> <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> <span class="hljs-number">100010</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> n, m, tot;<br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], in = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], out = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N], b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N];<br>    <span class="hljs-keyword">static</span> List&lt;Integer&gt;[] e = <span class="hljs-keyword">new</span> <span class="hljs-title class_">List</span>[N];<br> <br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> v)</span> &#123;<br>        <span class="hljs-keyword">for</span> (; x &lt;= n; x += x &amp; (-x)) &#123;<br>            b[x] ^= v;<br>        &#125;<br>    &#125;<br> <br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">sum</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (; x &gt; <span class="hljs-number">0</span>; x -= x &amp; (-x)) &#123;<br>            ans ^= b[x];<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br> <br>    <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">rangeSum</span><span class="hljs-params">(<span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span> &#123;<br>        <span class="hljs-keyword">return</span> sum(r) ^ sum(l);<br>    &#125;<br> <br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> u, <span class="hljs-type">int</span> fa)</span> &#123;<br>        in[u] = ++tot;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : e[u]) &#123;<br>            <span class="hljs-keyword">if</span> (v == fa) <span class="hljs-keyword">continue</span>;<br>            dfs(v, u);<br>        &#125;<br>        out[u] = tot;<br>    &#125;<br> <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">InputStreamReader</span>(System.in));<br>        <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OutputStreamWriter</span>(System.out));<br>        String[] temp = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        n = Integer.parseInt(temp[<span class="hljs-number">0</span>]);<br>        m = Integer.parseInt(temp[<span class="hljs-number">1</span>]);<br>        temp = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;<br>            a[i] = Integer.parseInt(temp[i - <span class="hljs-number">1</span>]);<br>            e[i]=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; ++i) &#123;<br>            temp = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> Integer.parseInt(temp[<span class="hljs-number">0</span>]);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> Integer.parseInt(temp[<span class="hljs-number">1</span>]);<br>            e[u].add(v);<br>            e[v].add(u);<br>        &#125;<br>        dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;<br>            add(in[i], a[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; m; ++i) &#123;<br>            temp = reader.readLine().split(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">op</span> <span class="hljs-operator">=</span> Integer.parseInt(temp[<span class="hljs-number">0</span>]);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> Integer.parseInt(temp[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">if</span> (op == <span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> Integer.parseInt(temp[<span class="hljs-number">2</span>]);<br>                <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> rangeSum(in[x] - <span class="hljs-number">1</span>, in[x]);<br>                add(in[x], y ^ v);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                writer.write(rangeSum(in[x] - <span class="hljs-number">1</span>, out[x]) + <span class="hljs-string">&quot;\n&quot;</span>);<br>            &#125;<br>        &#125;<br>        reader.close();<br>        writer.flush();<br>        writer.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><br>N = <span class="hljs-number">100010</span><br>n, m, tot = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>a = [<span class="hljs-number">0</span>]*N<br>in_ = [<span class="hljs-number">0</span>]*N<br>out = [<span class="hljs-number">0</span>]*N<br>b = [<span class="hljs-number">0</span>]*N<br>e = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N)]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x, v</span>):<br>    <span class="hljs-keyword">while</span> x &lt;= n:<br>        b[x] ^= v<br>        x += x &amp; (-x)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sum_</span>(<span class="hljs-params">x</span>):<br>    ans = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> ans<br>    <span class="hljs-keyword">while</span> x &gt; <span class="hljs-number">0</span>:<br>        ans ^= b[x]<br>        x -= x &amp; (-x)<br>    <span class="hljs-keyword">return</span> ans<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rangeSum</span>(<span class="hljs-params">l, r</span>):<br>    <span class="hljs-keyword">return</span> sum_(r) ^ sum_(l)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">u, fa</span>):<br>    <span class="hljs-keyword">global</span> tot<br>    in_[u] = tot = tot + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> e[u]:<br>        <span class="hljs-keyword">if</span> v == fa:<br>            <span class="hljs-keyword">continue</span><br>        dfs(v, u)<br>    out[u] = tot<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">global</span> n, m, tot<br>    n, m = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, sys.stdin.readline().split())<br>    a[<span class="hljs-number">1</span>:n+<span class="hljs-number">1</span>] = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, sys.stdin.readline().split())<br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>):<br>        u, v = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, sys.stdin.readline().split())<br>        e[u].append(v)<br>        e[v].append(u)<br>    dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>):<br>        add(in_[i], a[i])<br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        op, x, *extra = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, sys.stdin.readline().split())<br>        <span class="hljs-keyword">if</span> op == <span class="hljs-number">1</span>:<br>            y = extra[<span class="hljs-number">0</span>]<br>            v = rangeSum(in_[x] - <span class="hljs-number">1</span>, in_[x])<br>            add(in_[x], y ^ v)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(rangeSum(in_[x] - <span class="hljs-number">1</span>, out[x]))<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure>

<h2 id="混乱的数组-蓝桥云课"><a href="#混乱的数组-蓝桥云课" class="headerlink" title="混乱的数组 - 蓝桥云课"></a><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/3550/learning/?page=1&first_category_id=1&tags=2023&name=%E6%B7%B7%E4%B9%B1%E7%9A%84%E6%95%B0%E7%BB%84">混乱的数组 - 蓝桥云课</a></h2><h3 id="问题描述-8"><a href="#问题描述-8" class="headerlink" title="问题描述"></a>问题描述</h3><p>给定一个正整数 $x$，请找出一个尽可能短的仅含正整数的数组 $A$，使得 $A$ 中恰好有 $x$ 对 $i, j$ 满足 $i &lt; j$ 且 $A_i &gt; A_j$。如果存在多个这样的数组，请输出字典序最小的那个。</p>
<h3 id="输入格式-6"><a href="#输入格式-6" class="headerlink" title="输入格式"></a>输入格式</h3><p>输入一行包含一个整数表示 $x$。</p>
<h3 id="输出格式-6"><a href="#输出格式-6" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出两行。</p>
<p>第一行包含一个整数 $n$，表示所求出的数组长度。</p>
<p>第二行包含 $n$ 个整数 $A_i$，相邻整数之间使用一个空格分隔，依次表示数组中的每个数。</p>
<h3 id="样例输入-6"><a href="#样例输入-6" class="headerlink" title="样例输入"></a>样例输入</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">3<br></code></pre></td></tr></table></figure>

<h3 id="样例输出-6"><a href="#样例输出-6" class="headerlink" title="样例输出"></a>样例输出</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">3 3 2 1<br></code></pre></td></tr></table></figure>

<h3 id="评测用例规模与约定-6"><a href="#评测用例规模与约定-6" class="headerlink" title="评测用例规模与约定"></a>评测用例规模与约定</h3><p>对于 $30$% 的评测用例，$x \leq 10$；</p>
<p>对于 $60$% 的评测用例，$x \leq 100$；</p>
<p>对于所有评测用例，$1 \leq x \leq 10^9$。</p>
<h3 id="运行限制-8"><a href="#运行限制-8" class="headerlink" title="运行限制"></a>运行限制</h3><table>
<thead>
<tr>
<th>语言</th>
<th>最大运行时间</th>
<th>最大运行内存</th>
</tr>
</thead>
<tbody><tr>
<td>C++</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>C</td>
<td>3s</td>
<td>512M</td>
</tr>
<tr>
<td>Java</td>
<td>5s</td>
<td>512M</td>
</tr>
<tr>
<td>Python3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>PyPy3</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>Go</td>
<td>12s</td>
<td>512M</td>
</tr>
<tr>
<td>JavaScript</td>
<td>12s</td>
<td>512M</td>
</tr>
</tbody></table>
<p>总通过次数: 127  |  总提交次数: 411  |  通过率: 30.9%</p>
<p>难度: 简单   标签: 2023, 思维, 构造, 省赛</p>
<h3 id="解题思路-6"><a href="#解题思路-6" class="headerlink" title="解题思路"></a>解题思路</h3><h4 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h4><p>题目要求我们构造出一个字典序最小且有 $x$ 个逆序对的可重复数字的数组。</p>
<p>我们可以假设一种特殊情况。我们知道，一个严格递减的数组一共有 $\dfrac{n\times(n-1)}{2}$ 个逆序对，也是长度为 $n$ 的序列最大逆序对数量，例如 $3,2,1$ 就有 $3$ 个逆序对。</p>
<p>因此我们可以通过该公式找出 $\ge x$ 的第一个严格递减数组。我们可以 $2$ 分 $n$，也可以暴力求 $n$，暴力求 $n$ 的复杂度是 $\sqrt{x}$。</p>
<h4 id="构造答案"><a href="#构造答案" class="headerlink" title="构造答案"></a>构造答案</h4><p>如果 $\dfrac{n\times(n-1)}{2}$ 恰好等于 $x$，那么答案就是 $n \sim 1$。</p>
<p>如果 $\dfrac{n\times(n-1)}{2}$ 大于 $x$，则说明答案序列一定长度为 $n$。因为我们求出来 $\dfrac{n\times (n-1)}{2} \ge x &gt; \dfrac{(n-1)\times(n-2)}{2}$。</p>
<p>现在假设 $x&#x3D;13$，则序列 $a&#x3D;[6,5,4,3,2,1]$，该序列有 $15$ 个逆序对。我们将 $6$ 变为 $4$，该序列就有 $13$ 个逆序对了。也就是 $a&#x3D;[4,5,4,3,2,1]$，但这并不是最小的答案，我们有如下修改方式：</p>
<ol>
<li>我们将 $a[3]$ 修改为 $3$，序列为 $[4,5,3,3,2,1]$，可以发现 $a[3]$ 和 $a[4]$ 构成不了逆序对，但 $a[1]$ 和 $a[3]$ 构成了逆序对，此时逆序对数不变，字典序变小。</li>
<li>我们将 $a[4]$ 修改为 $2$，序列为 $[4,5,3,2,2,1]$，可以发现 $a[3]$ 和 $a[4]$ 构成了逆序对，$a[4]$ 和 $a[5]$ 构不成逆序对了。</li>
</ol>
<p>因此我们若想修改 $a_i$，则 $1\sim i-1$ 中等于 $a_i$ 的数量要等于 $i+1\sim n$ 中等于 $a_i-1$ 的数量，就能在保持逆序对不变的情况下修改。继续按照上述结论修改为 $[4,5,3,2,1,1]$。</p>
<p>我们发现，$a[2]$ 修改为 $4$ 依旧不影响结果，现在序列变为 $[4,4,3,2,1,1]$。然后根据之前所述规则，将 $a[2]$ 改为 $3$，然后 $a[3]$ 也可以修改为 $2$，最终答案为 $[4,3,2,2,1,1]$。</p>
<p>从做题经验来说：构造题大多都是有规律的构造，而非暴力构造，我们可以尝试寻找规律：</p>
<p>对于 $x&#x3D;(11\sim 14)$ 我们均可以一一尝试：</p>
<p>$\text{[2 4 3 2 1 1 ],[3 3 2 2 1 1 ],[4 3 2 2 1 1],[5 4 3 2 1 1 ]}$。到这里发现可能后缀很像，但是依旧无法解题，我们继续找规律：</p>
<p>$x&#x3D;(16\sim21)$：</p>
<p>$\text{[2 5 4 3 2 1 1 ],[3 4 3 2 2 1 1],[4 3 3 2 2 1 1 ],[5 4 3 2 2 1 1],[6 5 4 3 2 1 1 ],[7,6,5,4,3,2,1]}$。</p>
<p>我们发现后缀是从 $\text{[1 1] [2 2 1 1] [3 3 2 2 1 1][2 2 1 1][1 1]}$ 这种形式出现。</p>
<p>而前缀规律为 $[2,5,4,3,2][3,4,3],[4],[5,4,3],[6,5,4,3,2]$。</p>
<p>因此前后缀规律出现，跟是否是当前一半有关，因此寻找出规律。</p>
<p>因此若 $x-\dfrac{n\times(n-1)}{2}\le \dfrac{n}{2}$，则我们首项填 $1+x-\dfrac{n\times(n-1)}{2}$，第二项从 $n-2$ 开始递减填充，最后填充值大小与首项一样，然后最后构造数量和 $x-\dfrac{n\times(n-1)}{2}$ 相关的 $[1,1][2,2][3,3]…$。</p>
<p>该方法成立原因如下：</p>
<p>以 $17,\text{[3 4 3 2 2 1 1]}$ 为例：</p>
<p>我们在末置部分构造 $\text{2 2 1 1}$，已经有 $4$ 个逆序对了，首项一定比末置部分构造要大，因此对首项贡献为 $4$ 个逆序对，然后第二项开始递减填充了 $2$ 次，末置部分构造对齐贡献了 $8$ 个逆序对，他们互相之间构造了 $1$ 个逆序对，因此答案为 $4+4+8+1&#x3D;17$。设 $x-\dfrac{n\times(n-1)}{2}&#x3D;x_1$，则末置部分构造长度为 $x_1\times2$，首项大小为 $x_1+1$，递减长度为 $n-x_1\times2-1$。则构造出的逆序对数量为： $\dfrac{(x_1\times(x1-1))}{2}\times 4+\dfrac{(x_1\times(x1-1))}{2}\times 4+(n-x_1\times2-1)\times\dfrac{(x_1\times(x1-1))}{2}\times 4+\dfrac{(n-x_1\times2-1)\times((n-x_1\times2-2))}{2}$ $\dfrac{(x_1\times(x1-1))}{2}\times 4$ 是末置部分构造出的逆序对数量。</p>
<p>$x-\dfrac{n\times(n-1)}{2}&gt;\dfrac{n}{2}$ 证明也同理。</p>
<p>综上，该方案是一个合理的构造方案。</p>
<h3 id="AC-Code-6"><a href="#AC-Code-6" class="headerlink" title="AC_Code"></a>AC_Code</h3><ul>
<li>C++</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> x, n, a[<span class="hljs-number">100005</span>], res, k, r;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>  n = <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">while</span> (n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> &lt; x) n++;<br>  <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, n);<br>  <span class="hljs-keyword">if</span> (n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> == x) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>      a[i] = n - i + <span class="hljs-number">1</span>;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    res = n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> - x;<br>    <span class="hljs-keyword">if</span> (res &lt;= n / <span class="hljs-number">2</span>) &#123;<br>      r = n;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= res; i++) &#123;<br>        a[r--] = i;<br>        a[r--] = i;<br>      &#125;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = r; i &gt;= <span class="hljs-number">1</span>; i--) a[i] = res + (r - i + <span class="hljs-number">1</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      res = n - res - <span class="hljs-number">1</span>;<br>      r = n;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= res; i++) &#123;<br>        a[r--] = i;<br>        a[r--] = i;<br>      &#125;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = r; i &gt;= <span class="hljs-number">2</span>; i--) a[i] = res + (r - i + <span class="hljs-number">1</span>);<br>      a[<span class="hljs-number">1</span>] = res + <span class="hljs-number">1</span>;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d%c&quot;</span>, a[i], i == n? <span class="hljs-string">&#x27;\n&#x27;</span> : <span class="hljs-string">&#x27; &#x27;</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Java</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> in.nextInt();<br>        <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">while</span> (n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> &lt; x) &#123;<br>            n++;<br>        &#125;<br>        <br>        System.out.println(n);<br>        <br>        <span class="hljs-keyword">if</span> (n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> == x) &#123;<br>            <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n + <span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>                a[i] = n - i + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>                System.out.print(a[i]);<br>                <span class="hljs-keyword">if</span> (i == n) &#123;<br>                    System.out.println();<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    System.out.print(<span class="hljs-string">&quot; &quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-type">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n + <span class="hljs-number">1</span>];<br>            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> n * (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> - x;<br>            <span class="hljs-type">int</span> r;<br>            <br>            <span class="hljs-keyword">if</span> (res &lt;= n / <span class="hljs-number">2</span>) &#123;<br>                r = n;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= res; i++) &#123;<br>                    a[r--] = i;<br>                    a[r--] = i;<br>                &#125;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> r; i &gt;= <span class="hljs-number">1</span>; i--) &#123;<br>                    a[i] = res + (r - i + <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                res = n - res - <span class="hljs-number">1</span>;<br>                r = n;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= res; i++) &#123;<br>                    a[r--] = i;<br>                    a[r--] = i;<br>                &#125;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> r; i &gt;= <span class="hljs-number">2</span>; i--) &#123;<br>                    a[i] = res + (r - i + <span class="hljs-number">1</span>);<br>                &#125;<br>                a[<span class="hljs-number">1</span>] = res + <span class="hljs-number">1</span>;<br>            &#125;<br>            <br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>                System.out.print(a[i]);<br>                <span class="hljs-keyword">if</span> (i == n) &#123;<br>                    System.out.println();<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    System.out.print(<span class="hljs-string">&quot; &quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>Python</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python">x = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>())<br>n = <span class="hljs-number">1</span><br><br><span class="hljs-keyword">while</span> n * (n - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> &lt; x:<br>    n += <span class="hljs-number">1</span><br><br><span class="hljs-built_in">print</span>(n)<br><br><span class="hljs-keyword">if</span> n * (n - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> == x:<br>    a = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>    <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        a[i] = n - i + <span class="hljs-number">1</span><br>        <span class="hljs-built_in">print</span>(a[i], end=<span class="hljs-string">&quot; &quot;</span>)<br>    <br>    <span class="hljs-built_in">print</span>()<br><span class="hljs-keyword">else</span>:<br>    a = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>    res = n * (n - <span class="hljs-number">1</span>) // <span class="hljs-number">2</span> - x<br>    r = <span class="hljs-number">0</span><br>    <br>    <span class="hljs-keyword">if</span> res &lt;= n // <span class="hljs-number">2</span>:<br>        r = n<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, res + <span class="hljs-number">1</span>):<br>            a[r] = i<br>            r -= <span class="hljs-number">1</span><br>            a[r] = i<br>            r -= <span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(r, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):<br>            a[i] = res + (r - i + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">else</span>:<br>        res = n - res - <span class="hljs-number">1</span><br>        r = n<br>        <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, res + <span class="hljs-number">1</span>):<br>            a[r] = i<br>            r -= <span class="hljs-number">1</span><br>            a[r] = i<br>            r -= <span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(r, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            a[i] = res + (r - i + <span class="hljs-number">1</span>)<br>        <br>        a[<span class="hljs-number">1</span>] = res + <span class="hljs-number">1</span><br>    <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>        <span class="hljs-built_in">print</span>(a[i], end=<span class="hljs-string">&quot; &quot;</span>)<br>    <br>    <span class="hljs-built_in">print</span>()<br></code></pre></td></tr></table></figure>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2024/04/03/2023%E5%B9%B4%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9BA%E7%BB%84%E8%AF%95%E9%A2%98/">← Next 2023年蓝桥杯省赛A组试题</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2024/03/31/2023%E5%B9%B4%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9C%81%E8%B5%9Bc%E7%BB%84%E8%AF%95%E9%A2%98/">2023年蓝桥杯省赛c组试题 Prev →</a></div></div></div></div><div class="bottom-btn"><div><a class="i-top" id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧ </a><a class="i-index" id="to-index" href="#toc-div" title="To Catalog">≡</a><a class="i-color" id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">zdx</a></h1><div id="description"><p>learn</p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/zdx-1"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" href="mailto:19546328912@163.com"><i class="fa fa-envelope" alt="E-Mail"></i></a><a class="social" target="_blank" rel="noopener" href="https://space.bilibili.com/353147531"><i class="fa-brands fa-bilibili" alt="BiliBili"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE%E6%80%BB%E8%A7%88"><span class="toc-number">1.</span> <span class="toc-text">题目总览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2023-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE-lanqiao-cn"><span class="toc-number">2.</span> <span class="toc-text">2023 - 蓝桥云课 (lanqiao.cn)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88%E6%8F%90%E4%BA%A4"><span class="toc-number">2.2.</span> <span class="toc-text">答案提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6"><span class="toc-number">2.3.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88"><span class="toc-number">2.4.</span> <span class="toc-text">参考答案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E5%B8%81%E5%85%91%E6%8D%A2-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">3.</span> <span class="toc-text">硬币兑换 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-1"><span class="toc-number">3.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88%E6%8F%90%E4%BA%A4-1"><span class="toc-number">3.2.</span> <span class="toc-text">答案提交</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-1"><span class="toc-number">3.3.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88-1"><span class="toc-number">3.4.</span> <span class="toc-text">参考答案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%BE%E6%95%A3%E5%AD%90%E5%BA%8F%E5%88%97-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">4.</span> <span class="toc-text">松散子序列 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-2"><span class="toc-number">4.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5"><span class="toc-number">4.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA"><span class="toc-number">4.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A"><span class="toc-number">4.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-2"><span class="toc-number">4.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF"><span class="toc-number">4.8.</span> <span class="toc-text">解题思路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81"><span class="toc-number">4.8.1.</span> <span class="toc-text">定义状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">4.8.2.</span> <span class="toc-text">属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%AE%A1%E7%AE%97"><span class="toc-number">4.8.3.</span> <span class="toc-text">状态计算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90"><span class="toc-number">4.8.4.</span> <span class="toc-text">时间复杂度分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code"><span class="toc-number">4.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">5.</span> <span class="toc-text">管道 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-3"><span class="toc-number">5.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-1"><span class="toc-number">5.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-1"><span class="toc-number">5.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-1"><span class="toc-number">5.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-1"><span class="toc-number">5.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-1"><span class="toc-number">5.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-3"><span class="toc-number">5.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-1"><span class="toc-number">5.8.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-1"><span class="toc-number">5.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E9%99%A9%E7%AE%B1-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">6.</span> <span class="toc-text">保险箱 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-4"><span class="toc-number">6.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-2"><span class="toc-number">6.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-2"><span class="toc-number">6.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-2"><span class="toc-number">6.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-2"><span class="toc-number">6.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-2"><span class="toc-number">6.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-4"><span class="toc-number">6.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-2"><span class="toc-number">6.8.</span> <span class="toc-text">解题思路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E5%8A%9B%E6%80%9D%E8%B7%AF"><span class="toc-number">6.8.1.</span> <span class="toc-text">暴力思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%8A%B6%E6%80%81%E8%AE%BE%E8%AE%A1"><span class="toc-number">6.8.2.</span> <span class="toc-text">动态规划状态设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E5%92%8C%E7%8A%B6%E6%80%81%E8%BD%AC%E7%A7%BB"><span class="toc-number">6.8.3.</span> <span class="toc-text">初始化和状态转移</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E7%AD%94%E6%A1%88"><span class="toc-number">6.8.4.</span> <span class="toc-text">最终答案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-2"><span class="toc-number">6.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%91%E4%B8%8A%E9%80%89%E7%82%B9-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">7.</span> <span class="toc-text">树上选点 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-5"><span class="toc-number">7.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-3"><span class="toc-number">7.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-3"><span class="toc-number">7.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-3"><span class="toc-number">7.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-3"><span class="toc-number">7.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-3"><span class="toc-number">7.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-5"><span class="toc-number">7.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-3"><span class="toc-number">7.8.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-3"><span class="toc-number">7.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#T%E5%AD%97%E6%B6%88%E9%99%A4-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">8.</span> <span class="toc-text">T字消除 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-6"><span class="toc-number">8.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-4"><span class="toc-number">8.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-4"><span class="toc-number">8.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-4"><span class="toc-number">8.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-4"><span class="toc-number">8.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-number">8.6.</span> <span class="toc-text">样例说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-4"><span class="toc-number">8.7.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-6"><span class="toc-number">8.8.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-4"><span class="toc-number">8.9.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-4"><span class="toc-number">8.10.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%88%96%E5%92%8C-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">9.</span> <span class="toc-text">异或和 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-7"><span class="toc-number">9.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-5"><span class="toc-number">9.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-5"><span class="toc-number">9.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-5"><span class="toc-number">9.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-5"><span class="toc-number">9.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-5"><span class="toc-number">9.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-7"><span class="toc-number">9.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-5"><span class="toc-number">9.8.</span> <span class="toc-text">解题思路</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-5"><span class="toc-number">9.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B7%E4%B9%B1%E7%9A%84%E6%95%B0%E7%BB%84-%E8%93%9D%E6%A1%A5%E4%BA%91%E8%AF%BE"><span class="toc-number">10.</span> <span class="toc-text">混乱的数组 - 蓝桥云课</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0-8"><span class="toc-number">10.1.</span> <span class="toc-text">问题描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A0%BC%E5%BC%8F-6"><span class="toc-number">10.2.</span> <span class="toc-text">输入格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F-6"><span class="toc-number">10.3.</span> <span class="toc-text">输出格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%85%A5-6"><span class="toc-number">10.4.</span> <span class="toc-text">样例输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B7%E4%BE%8B%E8%BE%93%E5%87%BA-6"><span class="toc-number">10.5.</span> <span class="toc-text">样例输出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E6%B5%8B%E7%94%A8%E4%BE%8B%E8%A7%84%E6%A8%A1%E4%B8%8E%E7%BA%A6%E5%AE%9A-6"><span class="toc-number">10.6.</span> <span class="toc-text">评测用例规模与约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%99%90%E5%88%B6-8"><span class="toc-number">10.7.</span> <span class="toc-text">运行限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-6"><span class="toc-number">10.8.</span> <span class="toc-text">解题思路</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90"><span class="toc-number">10.8.1.</span> <span class="toc-text">问题分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E7%AD%94%E6%A1%88"><span class="toc-number">10.8.2.</span> <span class="toc-text">构造答案</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AC-Code-6"><span class="toc-number">10.9.</span> <span class="toc-text">AC_Code</span></a></li></ol></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr> by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas></body></html>